<%- include('includes/head.ejs') %>
<%- include('includes/nav.ejs') %>
<div class="contenido">
    <h1 class="contenido-title">Catalogo de productos</h1>
    <%if(error) {%>
        <div class="card-mensaje card-mensaje--error"><%=error%></div>
        <%}%>
    <div class="card">
        <h3 class="card-title">Login</h3>
        <form action="/login" method="post" class="form-login">
        <label for="usuario">Usuario <input type="text" name="usuario" id="usuario" required placeholder="Ingresa tu usuario"></label>
        <label for="contraseña">Contraseña <input type="password" name="contraseña" id="contraseña" required placeholder="Ingresa tu contraseña"></label>
        <input type="hidden" name="_csrf" value="<%=csrfToken%>" />
        <input type="submit" value="Ingresar">
        <a href="/reset">Olvide mi contraseña</a>
    </form>
    <input type="hidden" name="_csrf" value="<%=csrfToken%>" />    </div>
    
</div>
<script src="js/validator/validator.js"></script>
<script>    
    let pass = document.querySelector('#contraseña')
    
    pass.addEventListener('change',(e)=>{
        let valor = e.target.value;
        if(validator.isAlphanumeric(valor)&& validator.isLength(valor,{min:8})){ 
            console.log('passwork valido');                                                         
        }    
        else 
        {             
            e.target.value = ''                      
            e.target.setAttribute('placeholder','Las contraseñas invalida!')                    
            pass.focus()
        }
    })

</script>
<%- include('includes/end.ejs') %>